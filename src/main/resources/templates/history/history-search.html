<!DOCTYPE html>
<html
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorator="layouts/layout">
    <!-- add custom css -->
    <th:block layout:fragment="/css"></th:block>
    <!-- add custom script -->
    <th:block layout:fragment="script"></th:block>

    <div layout:fragment="content">
        <div class="container-fluid px-4">
            <!-- content -->
            <div id="history_list">
                <table id="table" class="table table-horizontal">
                    <thead id="thead">
                        <tr>
                            <th>번호</th>
                            <th>게임명</th>
                            <th>아이템명</th>
                            <th class="col-md-6 text-center">제목</th>
                            <th>작성자</th>
                            <th>작성일</th>
                            <th>조회수</th>
                            <th>좋아요</th>
                        </tr>
                    </thead>
                    <tbody id="tbody">
                        <tr th:each="history : ${searchList}">
                            <td>[[${history.id}]]</td>
                            <td>[[${history.gamename}]]</td>
                            <td>[[${history.itemname}]]</td>
                            <td>
                                <a th:href="@{'/history/read/' + ${history.id}}">[[${history.title}]]</a>
                            </td>
                            <td>[[${history.writer}]]</td>
                            <td>[[${history.modifiedDate}]]</td>
                            <td>[[${history.view}]]</td>
                            <td>[[${history.good}]]</td>
                        </tr>
                    </tbody>
                </table>
                <div class="text-right">
                    <a
                        href="/history/write"
                        role="button"
                        class="btn btn-primary bi bi-pencil-fill">
                        글쓰기</a>
                </div>

                <div class="pagination justify-content-center">

                    <a
                        th:if="${hasPrev}"
                        th:href="@{'/history/search?keyword=' + ${keyword} + '&page=' + ${previous}}"
                        role="button"
                        class="btn btn-lg bi bi-caret-left-square-fill"></a>

                    <a
                        th:if="!${hasPrev}"
                        th:href="@{'/history/search?keyword=' + ${keyword} + '&page=' + ${previous}}"
                        role="button"
                        class="btn btn-lg bi bi-caret-left-square-fill disabled"></a>

                    <a
                        th:if="${hasPrev}"
                        th:href="@{'/history/search?keyword=' + ${keyword} + '&page=' + ${next}}"
                        role="button"
                        class="btn btn-lg bi bi-caret-right-square-fill"></a>

                    <a
                        th:if="!${hasPrev}"
                        th:href="@{'/history/search?keyword=' + ${keyword} + '&page=' + ${next}}"
                        role="button"
                        class="btn btn-lg bi bi-caret-right-square-fill disabled"></a>

                </div>
            </div>
        </div>
    </div>
</html>

<!-- add custom script -->
<th:block layout:fragment="script">
    <script src="/js/history.js"></script>
</th:block>